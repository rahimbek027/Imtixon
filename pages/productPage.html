<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="/styles.css" />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200"
    />
    <title>Product Page</title>
  </head>
  <body>
    <header>
      <section class="topHeader">
        <div class="container">
          <div class="discount-info-txt-link-wrapper">
            <p>
              Summer Sale For All Swim Suits And Free Express Delivery - OFF
              50%!
            </p>
            <a href="#">Shop Now</a>
          </div>
          <select name="language" id="languageSwitcher">
            <option value="English">English</option>
            <option value="Russian">Russian</option>
            <option value="Uzbek">Uzbek</option>
          </select>
        </div>
      </section>
      <section class="bottomHeader">
        <div class="container">
          <div class="logo_and_menu_wrapper">
            <span class="material-symbols-outlined menu" id="menuBtn"
              >menu</span
            >
            <a href="/" class="logo">Exclusive</a>
          </div>
          <nav>
            <ul>
              <li><a href="#" class="active">Home</a></li>
              <li><a href="#">Contact</a></li>
              <li><a href="#">About</a></li>
              <li><a href="./pages/login.html">Sign in</a></li>
            </ul>
          </nav>
          <div class="header_search_and_btns">
            <div class="searchArea">
              <input
                type="search"
                name="productSearch"
                id="productSearch"
                placeholder="What are you looking for?"
              />
              <button>
                <span class="material-symbols-outlined"> search </span>
              </button>
            </div>
            <button class="favoriteProducts_btn">
              <span class="material-symbols-outlined">favorite</span>
            </button>
            <button class="cartOfProducts_btn">
              <span class="material-symbols-outlined">shopping_cart</span>
            </button>
          </div>
        </div>
      </section>
    </header>

    <main>
      <div class="container product_page">
        <div class="roadmap">
          <span>Account / Products / </span>
          <span class="product_title">Product Title</span>
        </div>

        <div class="product_card1" id="productCard">
          <div class="product_images">
            <div class="left_side" id="leftSideImages">
              <!-- Thumbnails will be injected here -->
            </div>
            <div class="main_image" id="product_img">
              <img src="" alt="Product Main Image" id="mainImage" />
            </div>
          </div>

          <div class="product_infos">
            <h2 class="product_title">Product Title</h2>
            <div class="reivews_wrapper">
              <div class="stars" id="stars">
                <!-- Stars will be injected here -->
              </div>
              <span class="ratesCount" id="ratesCount">(0 Reviews)</span>
              <p class="instock" id="instock">In Stock</p>
            </div>

            <h3 class="product_price" id="productPrice">$0.00</h3>
            <p class="product_description" id="productDescription">
              Product description
            </p>
            <div class="colors">
              <img src="../assets/Frame 918.svg" alt="">
            </div>
            <div class="size">
              <img src="../assets/Frame 917.svg" alt="">
            </div>
            <button class="buy_now" id="buyNowButton">Buy now</button>
          </div>
        </div>
      </div>

      <!-- Preloader -->
      <div class="preloader" id="preloader">
        <img src="../assets/preloader.gif" alt="Loading..." />
      </div>
    </main>

    <footer>
      <div class="container">
        <div class="footer-top-contents">
          <div class="footer-column">
            <a href="#" class="logo">Exclusive</a>
            <p class="column-title">Subscribe</p>
            <p>Get 10% off your first order</p>
            <form>
              <input
                type="email"
                name="subscirbeInput"
                id="subscirbeInput"
                placeholder="Enter your email"
              />
              <button type="submit">
                <img src="../assets/icon-send.svg" alt="send icon" />
              </button>
            </form>
          </div>
          <div class="footer-column">
            <p class="column-title">Support</p>
            <address>111 Bijoy sarani, Dhaka, DH 1515, Bangladesh.</address>
            <a href="mailto:exclusive@gmail.com">exclusive@gmail.com</a>
            <a href="tel:+88015-88888-9999">+88015-88888-9999</a>
          </div>
          <div class="footer-column">
            <p class="column-title">Account</p>
            <a href="#">My Account</a>
            <a href="#">Login / Register</a>
            <a href="#">Cart</a>
            <a href="#">Wishlist</a>
            <a href="#">Shop</a>
          </div>
          <div class="footer-column">
            <p class="column-title">Quick Link</p>
            <a href="#">Privacy Policy</a>
            <a href="#">Terms Of Use</a>
            <a href="#">FAQ</a>
            <a href="#">Contact</a>
          </div>
          <div class="footer-column">
            <p class="column-title">Download App</p>
            <p class="getapp-cta-text">Save $3 with App New User Only</p>
            <div class="getapp-contents">
              <img src="../assets/Qr Code.png" alt="qr" />
              <img src="../assets/getApp.png" alt="app store" />
            </div>
            <div class="social-media-icons">
              <a href="#"
                ><img src="../assets/Icon-Facebook.svg" alt="facebook"
              /></a>
              <a href="#"
                ><img src="../assets/Icon-Twitter.svg" alt="twitter"
              /></a>
              <a href="#"
                ><img src="../assets/icon-instagram.svg" alt="instagram"
              /></a>
              <a href="#"
                ><img src="../assets/Icon-Linkedin.svg" alt="linkedin"
              /></a>
            </div>
          </div>
        </div>
      </div>
      <div class="footer-bottom_copyright">
        <p>&copy; Copyright Rimel 2022. All right reserved</p>
      </div>
    </footer>

    <script>
      document.addEventListener("DOMContentLoaded", async () => {
        const queryParams = new URLSearchParams(window.location.search);
        const productId = queryParams.get("id");

        if (productId) {
          try {
            const response = await fetch(`https://fakestoreapi.com/products/${productId}`);
            const product = await response.json();
            renderProductCard(product);
          } catch (error) {
            console.error("Error fetching product:", error);
            hidePreloader();
          }
        } else {
          console.error("No product ID found in URL query parameters");
          hidePreloader();
        }
      });

      function renderProductCard(product) {
        const productTitle = document.querySelector(".product_title");
        const mainImage = document.getElementById("mainImage");
        const leftSideImages = document.getElementById("leftSideImages");
        const stars = document.getElementById("stars");
        const ratesCount = document.getElementById("ratesCount");
        const instock = document.getElementById("instock");
        const productPrice = document.getElementById("productPrice");
        const productDescription = document.getElementById("productDescription");

        productTitle.textContent = product.title;
        mainImage.src = product.image;
        mainImage.alt = product.title;

        // Generate thumbnails
        leftSideImages.innerHTML = "";
        for (let i = 0; i < 4; i++) {
          const img = document.createElement("img");
          img.src = product.image;
          img.alt = product.title;
          leftSideImages.appendChild(img);
        }

        // Generate stars
        stars.innerHTML = "";
        const rating = Math.round(product.rating.rate);
        for (let i = 1; i <= 5; i++) {
          const star = document.createElement("img");
          star.src = i <= rating ? "../assets/yellowStar.svg" : "../assets/greyStar.svg";
          star.alt = "star";
          stars.appendChild(star);
        }

        ratesCount.textContent = `(${product.rating.count} Reviews)`;
        instock.textContent = product.rating.count > 0 ? "In Stock" : "Out of Stock";
        productPrice.textContent = `$${product.price}`;
        productDescription.textContent = product.description;

        hidePreloader();
      }

      function hidePreloader() {
        const preloader = document.getElementById("preloader");
        if (preloader) {
          preloader.style.display = "none";
        }
      }
    </script>
  </body>
</html>
.